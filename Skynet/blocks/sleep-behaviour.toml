macros = [
    {}
]

arguments = [
    { name = "active_profile", label = "Active Profile", description = "Profile which causes the unit to stay awake.", type = "integer" },
    { name = "sleep_profile", label = "Sleep Profile", description = "Profile which causes the unit to sleep.", type = "integer" },
]
 
lines = [
    # Apply active profile on power or wake.
    ["power.power_or_wake_up.0", "power.is_restricted_mode.0", "power.apply_profile.$active_profile"],

    # Apply sleep config when all inputs low.
    ["io.input_low.0", "io.is_low.1 and io.is_low.2", "power.apply_profile.$sleep_profile"],
    ["io.input_low.1", "io.is_low.0 and io.is_low.2", "power.apply_profile.$sleep_profile"],
    ["io.input_low.2", "io.is_low.0 and io.is_low.1", "power.apply_profile.$sleep_profile"],

    # Switch back to active profile when inputs go high.
    ["io.input_high.0", "", "power.apply_profile.$active_profile"],
    ["io.input_high.1", "", "power.apply_profile.$active_profile"],
    ["io.input_high.2", "", "power.apply_profile.$active_profile"],
]
